{"version":3,"sources":["webpack:///static/js/app.8e0d47a3c7a5c4795e9c.js","webpack:///./src/main.js","webpack:///App.vue","webpack:///Blueprint.vue","webpack:///./src/App.vue","webpack:///./src/components/Blueprint.vue","webpack:///./src/App.vue?76f3","webpack:///./src/components/Blueprint.vue?7404"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","el","template","components","App","Object","defineProperty","value","_Blueprint","_Blueprint2","name","Blueprint","_interopRequireWildcard","newObj","key","prototype","hasOwnProperty","call","canvasHover","coords","vueThis","vue","hoverCoord","canvasClicked","points","push","_d","d3","coordToLine","line","x","coord","y","initDraw","select","on","nextCoord","wallpoints","mouse","this","lastWallpoint","length","xDiff","Math","abs","yDiff","editMode","data","computed","path","prevWallpoint","previewPath","guideCoords","xGuidePath","yGuidePath","startGuide","startPoint","guideVisibility","wallMeasurements","_this","distanceFactor","measurementPoints","map","point","index","prevPoint","sqrt","pow","toFixed","filter","undefined","cursorPoint","methods","toggleEdit","mounted","Component","render","_vm","_h","$createElement","_c","_self","attrs","id","staticRenderFns","staticClass","disabled","click","_v","d","visibility","cx","cy","r","_l","width","height","_s"],"mappings":"AAAAA,cAAc,EAAE,IAEV,SAASC,EAAQC,EAASC,GAE/B,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GCZxF,GAAAG,GAAAL,EAAA,IDMKM,EAAQL,EAAuBI,GCLpCE,EAAAP,EAAA,GDSKQ,EAAQP,EAAuBM,ECNpC,IAAAD,GAAAF,SACEK,GAAI,OACJC,SAAU,SACVC,YAAcC,kBDcT,CAED,SAASd,EAAQC,EAASC,GAE/B,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GARvFW,OAAOC,eAAef,EAAS,cAC7BgB,OAAO,GErBV,IAAAC,GAAAhB,EAAA,GF0BKiB,EAAchB,EAAuBe,EAIzCjB,GAAQK,SACNc,KE7BH,MF8BGP,YE3BHQ,UAAAF,EAAAb,WFkCM,SAASN,EAAQC,EAASC,GAE/B,YAUA,SAASoB,GAAwBlB,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAImB,KAAa,IAAW,MAAPnB,EAAe,IAAK,GAAIoB,KAAOpB,GAAWW,OAAOU,UAAUC,eAAeC,KAAKvB,EAAKoB,KAAMD,EAAOC,GAAOpB,EAAIoB,GAAgC,OAAtBD,GAAOjB,QAAUF,EAAYmB,EG/BnQ,QAAAK,GAAAC,EAAAC,GHwCG,GAAIC,GGtCPD,CHuCGC,GAAIC,WGtCPH,EAEA,QAAAI,GAAAJ,EAAAK,GHwCGA,EAAOC,KGtCVN,GHgBCd,OAAOC,eAAef,EAAS,cAC7BgB,OAAO,GG9BV,IAAAmB,GAAAlC,EAAA,GHmCKmC,EAAKf,EAAwBc,GGjClCE,EAAAD,EACAE,OAAAC,EAAA,SAAAC,GHqCG,MAAOA,GGpCV,KHqCIC,EAAE,SAAUD,GACb,MAAOA,GAAM,KG3BhBE,EAAA,SAAAb,GHwCGO,EAAGO,OGtCN,OAAAC,GAAA,mBHuCKZ,EAAcH,EAAQgB,UAAWhB,EGrCtCiB,cACAF,GAAA,uBHsCKjB,EAAYS,EAAGW,MAAMC,MGpC1BnB,KHsCGO,EAAGO,OGpCN,eAAAC,GAAA,mBHqCK,GAAId,GGnCTD,EHoCSoB,EAAgBnB,EAAIgB,WAAWhB,EAAIgB,WAAWI,OGnCvD,EHoCKpB,GAAIgB,WAAWZ,KAAKJ,EAAIgB,WGlC7B,GHoCK,IAAIK,GAAQC,KAAKC,IAAIJ,EAAc,GAAKnB,EAAIC,WGnCjD,IHoCSuB,EAAQF,KAAKC,IAAIJ,EAAc,GAAKnB,EAAIC,WGnCjD,GHoCSoB,GAAQG,EACVL,EAAc,GAAKnB,EAAIgB,WAAW,GGnCzC,GHqCOG,EAAc,GAAKnB,EAAIgB,WAAW,GGnCzC,GHqCKhB,EAAIyB,UGnCT,EHoCKnB,EAAGO,OGnCR,OAAAC,GAAA,QACA,MAAAA,GAAA,YACA,QHqCC5C,GAAQK,SACNc,KGjCH,YHkCGqC,KAAM,WACJ,OACED,UGjCP,EHkCOT,cACAf,YAAa,EGhCpB,KHoCG0B,UACEC,KAAM,WACJ,MAAOrB,GAAYW,KGlC1BF,aHoCKD,UAAW,WACT,GAA+B,IAA3BG,KAAKF,WAAWI,OAClB,MAAOF,MGlChBjB,UHoCO,IAAI4B,GAAgBX,KAAKF,WAAWE,KAAKF,WAAWI,OGlC3D,GHmCWC,EAAQC,KAAKC,IAAIM,EAAc,GAAKX,KAAKjB,WGlCpD,IHmCWuB,EAAQF,KAAKC,IAAIM,EAAc,GAAKX,KAAKjB,WGlCpD,GHmCO,OAAOoB,GGlCdG,GAAAN,KAAAjB,WAAA,GAAA4B,EACA,KAAAA,EAAA,GAAAX,KAAAjB,WACA,KHkCK6B,YAAa,WACX,GAA+B,IAA3BZ,KAAKF,WAAWI,OAClB,MAAOb,MAET,IAAIsB,GAAgBX,KAAKF,WAAWE,KAAKF,WAAWI,OGhC3D,GHiCWW,GAAeF,EAAeX,KGhCzCH,UHiCO,OAAOR,GGhCdwB,IHkCKC,WAAY,WACV,MAAOzB,KAAc,EAAGW,KAAKH,UAAU,KAAM,KAAMG,KAAKH,UGhC/D,OHkCKkB,WAAY,WACV,MAAO1B,KAAcW,KAAKH,UAAU,GAAI,IAAKG,KAAKH,UAAU,GGhCnE,QHkCKmB,WAAY,WACV,GAA+B,IAA3BhB,KAAKF,WAAWI,OAClB,OAASX,EAAG,EAAGE,EGhCxB,EHkCO,IAAIwB,GAAajB,KAAKF,WGhC7B,EHiCO,QACEP,EAAG0B,EGhCZ,GHiCSxB,EAAGwB,EG/BZ,KHkCKC,gBAAiB,WACf,MAAOlB,MAAKO,SAAW,UGhC9B,UHkCKY,iBAAkB,WGhCvB,GAAAC,GAAApB,KHmCWqB,EGlCX,KHmCWC,EAAoBtB,KAAKF,WAAWyB,IAAI,SAAUC,EAAOC,GAC3D,GAAc,IAAVA,EACF,MGlCX,KHoCS,IAAIC,GAAYN,EAAMtB,WAAW2B,EGlC1C,GHmCatB,EAAQuB,EAAU,GAAKF,EGlCpC,GHmCalB,EAAQoB,EAAU,GAAKF,EGlCpC,GHmCajC,EAAIY,EGlCjB,EHmCaV,EAAIa,EGlCjB,EHmCatC,EAAQoC,KGlCrBuB,KAAAvB,KAAAwB,IAAAJ,EAAA,GAAAE,EAAA,GACA,GAAAtB,KAAAwB,IAAAJ,EAAA,GAAAE,EAAA,GACA,GHiCS,QG/BTnC,IACAE,IHiCWzB,OAAQA,EAAQqD,GAAgBQ,QG/B3C,UACAC,OAAA,SAAAN,GHiCS,MGhCT,QHgCgBA,GAET,IAAIxB,KAAKO,UAA+BwB,SAAnB/B,KAAKH,WAA2BG,KAAKF,WAAWI,OAAS,EGjCrF,CHkCS,GAAIwB,GAAY1B,KAAKF,WAAWE,KAAKF,WAAWI,OGjCzD,GHkCaC,EAAQuB,EAAU,GAAK1B,KAAKH,UGjCzC,GHkCaS,EAAQoB,EAAU,GAAK1B,KAAKH,UGjCzC,GHkCaN,EAAIY,EGjCjB,EHkCaV,EAAIa,EGjCjB,EHkCatC,EAAQoC,KGjCrBuB,KAAAvB,KAAAwB,IAAA5B,KAAAH,UAAA,GAAA6B,EAAA,GACA,GAAAtB,KAAAwB,IAAA5B,KAAAH,UAAA,GAAA6B,EAAA,GACA,IHgCaM,GG9BbzC,IACAE,IHgCWzB,OAAQA,EAAQqD,GAAgBQ,QG9B3C,OHgCSP,GAAkBpC,KG/B3B8C,GHiCO,MG/BPV,KHkCGW,SACEC,WAAY,WACVlC,KAAKO,UAAYP,KG/BxBO,SHgCWP,KAAKO,UACPb,EG/BTM,QHmCGmC,QAAS,eAIL,CAED,SAASpF,EAAQC,KAMjB,SAASD,EAAQC,KAMjB,SAASD,EAAQC,EAASC,GIrNhCA,EAAA,EAEA,IAAAmF,GAAAnF,EAAA,GAEAA,EAAA,GAEAA,EAAA,GAEA,KAEA,KAGAF,GAAAC,QAAAoF,EAAApF,SJ8NM,SAASD,EAAQC,EAASC,GK3OhCA,EAAA,EAEA,IAAAmF,GAAAnF,EAAA,GAEAA,EAAA,GAEAA,EAAA,IAEA,kBAEA,KAGAF,GAAAC,QAAAoF,EAAApF,SLoPM,SAASD,EAAQC,GMnQvBD,EAAAC,SAAgBqF,OAAA,WAAmB,GAAAC,GAAAtC,KAAauC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,OACAC,GAAA,SAEGH,EAAA,kBACFI,qBNyQK,SAAS9F,EAAQC,GO/QvBD,EAAAC,SAAgBqF,OAAA,WAAmB,GAAAC,GAAAtC,KAAauC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAK,YAAA,iBACGL,EAAA,UACHE,OACAI,SAAAT,EAAA/B,UAEAX,IACAoD,MAAAV,EAAAJ,cAEGI,EAAAW,GAAA,UAAAX,EAAAW,GAAA,KAAAR,EAAA,UACHE,OACAI,UAAAT,EAAA/B,UAEAX,IACAoD,MAAAV,EAAAJ,cAEGI,EAAAW,GAAA,YAAAX,EAAAW,GAAA,KAAAR,EAAA,OACHK,YAAA,WACGL,EAAA,KACHK,YAAA,UACGL,EAAA,QACHE,OACAO,EAAAZ,EAAA5B,QAEG4B,EAAAW,GAAA,KAAAR,EAAA,QACHE,OACAO,EAAAZ,EAAA1B,iBAEG0B,EAAAW,GAAA,KAAAR,EAAA,KACHK,YAAA,WACGL,EAAA,QACHK,YAAA,YACAH,OACAQ,WAAAb,EAAApB,gBACAgC,EAAAZ,EAAAxB,cAEGwB,EAAAW,GAAA,KAAAR,EAAA,QACHK,YAAA,YACAH,OACAQ,WAAAb,EAAApB,gBACAgC,EAAAZ,EAAAvB,cAEGuB,EAAAW,GAAA,KAAAR,EAAA,UACHK,YAAA,aACAH,OACAS,GAAAd,EAAAtB,WAAAzB,EACA8D,GAAAf,EAAAtB,WAAAvB,EACA6D,EAAA,MAEGhB,EAAAW,GAAA,KAAAX,EAAAiB,GAAAjB,EAAA,0BAAAd,GACH,MAAAiB,GAAA,QACAK,YAAA,kBACAH,OACApD,EAAAiC,EAAAjC,EAAA,GACAE,EAAA+B,EAAA/B,EAAA,GACA+D,MAAA,MACAC,OAAA,UAGGnB,EAAAW,GAAA,KAAAX,EAAAiB,GAAAjB,EAAA,0BAAAd,GACH,MAAAiB,GAAA,QACAE,OACApD,EAAAiC,EAAAjC,EAAA,GACAE,EAAA+B,EAAA/B,EAAA,MAEK6C,EAAAW,GAAAX,EAAAoB,GAAAlC,EAAAxD,aACF,KAAAsE,EAAAW,GAAA,OAAAX,EAAAoB,GAAApB,EAAAvD,aAAA0D,EAAA,MAAAH,EAAAW,GAAA,OAAAX,EAAAoB,GAAApB,EAAA5B,MAAA,SACFmC","file":"static/js/app.8e0d47a3c7a5c4795e9c.js","sourcesContent":["webpackJsonp([1,0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(11);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(7);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _vue2.default({\n\t  el: '#app',\n\t  template: '<App/>',\n\t  components: { App: _App2.default }\n\t});\n\n/***/ },\n/* 1 */,\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Blueprint = __webpack_require__(8);\n\t\n\tvar _Blueprint2 = _interopRequireDefault(_Blueprint);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'app',\n\t  components: {\n\t    Blueprint: _Blueprint2.default\n\t  }\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _d = __webpack_require__(4);\n\t\n\tvar d3 = _interopRequireWildcard(_d);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar coordToLine = d3.line().x(function (coord) {\n\t  return coord[0];\n\t}).y(function (coord) {\n\t  return coord[1];\n\t});\n\t\n\tfunction canvasHover(coords, vueThis) {\n\t  var vue = vueThis;\n\t  vue.hoverCoord = coords;\n\t}\n\t\n\tfunction canvasClicked(coords, points) {\n\t  points.push(coords);\n\t}\n\t\n\tvar initDraw = function initDraw(vueThis) {\n\t  d3.select('svg').on('click', function () {\n\t    canvasClicked(vueThis.nextCoord, vueThis.wallpoints);\n\t  }).on('mousemove', function boundMouseover() {\n\t    canvasHover(d3.mouse(this), vueThis);\n\t  });\n\t  d3.select('.startGuide').on('click', function () {\n\t    var vue = vueThis;\n\t    var lastWallpoint = vue.wallpoints[vue.wallpoints.length - 1];\n\t    vue.wallpoints.push(vue.wallpoints[0]);\n\t\n\t    var xDiff = Math.abs(lastWallpoint[0] - vue.hoverCoord[0]);\n\t    var yDiff = Math.abs(lastWallpoint[1] - vue.hoverCoord[1]);\n\t    if (xDiff < yDiff) {\n\t      lastWallpoint[0] = vue.wallpoints[0][0];\n\t    } else {\n\t      lastWallpoint[1] = vue.wallpoints[0][1];\n\t    }\n\t    vue.editMode = false;\n\t    d3.select('svg').on('click', null).on('mousemove', null);\n\t  });\n\t};\n\t\n\texports.default = {\n\t  name: 'blueprint',\n\t  data: function data() {\n\t    return {\n\t      editMode: false,\n\t      wallpoints: [],\n\t      hoverCoord: [0, 0]\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    path: function path() {\n\t      return coordToLine(this.wallpoints);\n\t    },\n\t    nextCoord: function nextCoord() {\n\t      if (this.wallpoints.length === 0) {\n\t        return this.hoverCoord;\n\t      }\n\t      var prevWallpoint = this.wallpoints[this.wallpoints.length - 1];\n\t      var xDiff = Math.abs(prevWallpoint[0] - this.hoverCoord[0]);\n\t      var yDiff = Math.abs(prevWallpoint[1] - this.hoverCoord[1]);\n\t      return xDiff > yDiff ? [this.hoverCoord[0], prevWallpoint[1]] : [prevWallpoint[0], this.hoverCoord[1]];\n\t    },\n\t    previewPath: function previewPath() {\n\t      if (this.wallpoints.length === 0) {\n\t        return coordToLine([]);\n\t      }\n\t      var prevWallpoint = this.wallpoints[this.wallpoints.length - 1];\n\t      var guideCoords = [prevWallpoint, this.nextCoord];\n\t      return coordToLine(guideCoords);\n\t    },\n\t    xGuidePath: function xGuidePath() {\n\t      return coordToLine([[0, this.nextCoord[1]], [1200, this.nextCoord[1]]]);\n\t    },\n\t    yGuidePath: function yGuidePath() {\n\t      return coordToLine([[this.nextCoord[0], 0], [this.nextCoord[0], 800]]);\n\t    },\n\t    startGuide: function startGuide() {\n\t      if (this.wallpoints.length === 0) {\n\t        return { x: 0, y: 0 };\n\t      }\n\t      var startPoint = this.wallpoints[0];\n\t      return {\n\t        x: startPoint[0],\n\t        y: startPoint[1]\n\t      };\n\t    },\n\t    guideVisibility: function guideVisibility() {\n\t      return this.editMode ? 'visible' : 'hidden';\n\t    },\n\t    wallMeasurements: function wallMeasurements() {\n\t      var _this = this;\n\t\n\t      var distanceFactor = 0.025;\n\t      var measurementPoints = this.wallpoints.map(function (point, index) {\n\t        if (index === 0) {\n\t          return null;\n\t        }\n\t        var prevPoint = _this.wallpoints[index - 1];\n\t        var xDiff = prevPoint[0] + point[0];\n\t        var yDiff = prevPoint[1] + point[1];\n\t        var x = xDiff / 2;\n\t        var y = yDiff / 2;\n\t        var value = Math.sqrt(Math.pow(point[0] - prevPoint[0], 2) + Math.pow(point[1] - prevPoint[1], 2));\n\t        return {\n\t          x: x,\n\t          y: y,\n\t          value: (value * distanceFactor).toFixed(1) + 'm'\n\t        };\n\t      }).filter(function (point) {\n\t        return point !== null;\n\t      });\n\t      if (this.editMode && this.nextCoord !== undefined && this.wallpoints.length > 0) {\n\t        var prevPoint = this.wallpoints[this.wallpoints.length - 1];\n\t        var xDiff = prevPoint[0] + this.nextCoord[0];\n\t        var yDiff = prevPoint[1] + this.nextCoord[1];\n\t        var x = xDiff / 2;\n\t        var y = yDiff / 2;\n\t        var value = Math.sqrt(Math.pow(this.nextCoord[0] - prevPoint[0], 2) + Math.pow(this.nextCoord[1] - prevPoint[1], 2));\n\t        var cursorPoint = {\n\t          x: x,\n\t          y: y,\n\t          value: (value * distanceFactor).toFixed(1) + 'm'\n\t        };\n\t        measurementPoints.push(cursorPoint);\n\t      }\n\t      return measurementPoints;\n\t    }\n\t  },\n\t  methods: {\n\t    toggleEdit: function toggleEdit() {\n\t      this.editMode = !this.editMode;\n\t      if (this.editMode) {\n\t        initDraw(this);\n\t      }\n\t    }\n\t  },\n\t  mounted: function mounted() {}\n\t};\n\n/***/ },\n/* 4 */,\n/* 5 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(5)\n\t\n\tvar Component = __webpack_require__(1)(\n\t  /* script */\n\t  __webpack_require__(2),\n\t  /* template */\n\t  __webpack_require__(9),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(6)\n\t\n\tvar Component = __webpack_require__(1)(\n\t  /* script */\n\t  __webpack_require__(3),\n\t  /* template */\n\t  __webpack_require__(10),\n\t  /* scopeId */\n\t  \"data-v-6efa3f6e\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_c('Blueprint')], 1)\n\t},staticRenderFns: []}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"tool-wrapper\"\n\t  }, [_c('button', {\n\t    attrs: {\n\t      \"disabled\": _vm.editMode\n\t    },\n\t    on: {\n\t      \"click\": _vm.toggleEdit\n\t    }\n\t  }, [_vm._v(\"Edit\")]), _vm._v(\" \"), _c('button', {\n\t    attrs: {\n\t      \"disabled\": !_vm.editMode\n\t    },\n\t    on: {\n\t      \"click\": _vm.toggleEdit\n\t    }\n\t  }, [_vm._v(\"Cancel\")]), _vm._v(\" \"), _c('svg', {\n\t    staticClass: \"canvas\"\n\t  }, [_c('g', {\n\t    staticClass: \"walls\"\n\t  }, [_c('path', {\n\t    attrs: {\n\t      \"d\": _vm.path\n\t    }\n\t  }), _vm._v(\" \"), _c('path', {\n\t    attrs: {\n\t      \"d\": _vm.previewPath\n\t    }\n\t  })]), _vm._v(\" \"), _c('g', {\n\t    staticClass: \"guides\"\n\t  }, [_c('path', {\n\t    staticClass: \"guideline\",\n\t    attrs: {\n\t      \"visibility\": _vm.guideVisibility,\n\t      \"d\": _vm.xGuidePath\n\t    }\n\t  }), _vm._v(\" \"), _c('path', {\n\t    staticClass: \"guideline\",\n\t    attrs: {\n\t      \"visibility\": _vm.guideVisibility,\n\t      \"d\": _vm.yGuidePath\n\t    }\n\t  }), _vm._v(\" \"), _c('circle', {\n\t    staticClass: \"startGuide\",\n\t    attrs: {\n\t      \"cx\": _vm.startGuide.x,\n\t      \"cy\": _vm.startGuide.y,\n\t      \"r\": 10\n\t    }\n\t  }), _vm._v(\" \"), _vm._l((_vm.wallMeasurements), function(point) {\n\t    return _c('rect', {\n\t      staticClass: \"measurementRect\",\n\t      attrs: {\n\t        \"x\": point.x - 50,\n\t        \"y\": point.y - 30,\n\t        \"width\": \"100\",\n\t        \"height\": \"30\"\n\t      }\n\t    })\n\t  }), _vm._v(\" \"), _vm._l((_vm.wallMeasurements), function(point) {\n\t    return _c('text', {\n\t      attrs: {\n\t        \"x\": point.x - 20,\n\t        \"y\": point.y - 10\n\t      }\n\t    }, [_vm._v(_vm._s(point.value))])\n\t  })], 2)]), _vm._v(\"\\n  \" + _vm._s(_vm.hoverCoord)), _c('br'), _vm._v(\"\\n  \" + _vm._s(_vm.path) + \"\\n\")])\n\t},staticRenderFns: []}\n\n/***/ }\n]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.8e0d47a3c7a5c4795e9c.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div id=\"app\">\n    <Blueprint></Blueprint>\n  </div>\n</template>\n\n<script>\nimport Blueprint from './components/Blueprint';\n\nexport default {\n  name: 'app',\n  components: {\n    Blueprint,\n  },\n};\n</script>\n\n<style>\nbody, html {\n  height: 100%;\n  width: 100%;\n}\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  background-color: black;\n  padding: 60px;\n  height: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?2ec269dc","<template>\n  <div class=\"tool-wrapper\">\n    <button :disabled=\"editMode\" v-on:click=\"toggleEdit\">Edit</button>\n    <button :disabled=\"!editMode\" v-on:click=\"toggleEdit\">Cancel</button>\n    <svg class=\"canvas\">\n      <g class=\"walls\">\n        <path :d=\"path\"></path>\n        <path :d=\"previewPath\"></path>\n      </g>\n      <g class=\"guides\">\n        <path :visibility=\"guideVisibility\" :d=\"xGuidePath\" class=\"guideline\"></path>\n        <path :visibility=\"guideVisibility\" :d=\"yGuidePath\" class=\"guideline\"></path>\n        <circle class=\"startGuide\" :cx=\"startGuide.x\" :cy=\"startGuide.y\" :r=\"10\"></circle>\n        <rect class=\"measurementRect\" :x=\"point.x - 50\" :y=\"point.y - 30\" width=\"100\" height=\"30\" v-for=\"point in wallMeasurements\"></rect>\n        <text :x=\"point.x - 20\" :y=\"point.y - 10\" v-for=\"point in wallMeasurements\">{{ point.value }}</text>\n      </g>\n    </svg>\n    {{ hoverCoord }}<br/>\n    {{ path }}\n  </div>\n</template>\n\n<script>\nimport * as d3 from 'd3';\n\nconst coordToLine = d3.line()\n  .x(coord => coord[0])\n  .y(coord => coord[1]);\n\nfunction canvasHover(coords, vueThis) {\n  const vue = vueThis;\n  vue.hoverCoord = coords;\n}\n\nfunction canvasClicked(coords, points) {\n  points.push(coords);\n}\n\nconst initDraw = (vueThis) => {\n  d3.select('svg')\n    .on('click', () => {\n      canvasClicked(vueThis.nextCoord, vueThis.wallpoints);\n    })\n    .on('mousemove', function boundMouseover() {\n      canvasHover(d3.mouse(this), vueThis);\n    });\n  d3.select('.startGuide')\n    .on('click', () => {\n      const vue = vueThis;\n      const lastWallpoint = vue.wallpoints[vue.wallpoints.length - 1];\n      vue.wallpoints.push(vue.wallpoints[0]);\n      // Compensate last point for 90 degree angle\n      const xDiff = Math.abs(lastWallpoint[0] - vue.hoverCoord[0]);\n      const yDiff = Math.abs(lastWallpoint[1] - vue.hoverCoord[1]);\n      if (xDiff < yDiff) {\n        lastWallpoint[0] = vue.wallpoints[0][0];\n      } else {\n        lastWallpoint[1] = vue.wallpoints[0][1];\n      }\n      vue.editMode = false;\n      d3.select('svg')\n        .on('click', null)\n        .on('mousemove', null);\n    });\n};\n\nexport default {\n  name: 'blueprint',\n  data() {\n    return {\n      editMode: false,\n      wallpoints: [],\n      hoverCoord: [0, 0],\n    };\n  },\n  computed: {\n    path() {\n      return coordToLine(this.wallpoints);\n    },\n    nextCoord() {\n      if (this.wallpoints.length === 0) {\n        return this.hoverCoord;\n      }\n      const prevWallpoint = this.wallpoints[this.wallpoints.length - 1];\n      const xDiff = Math.abs(prevWallpoint[0] - this.hoverCoord[0]);\n      const yDiff = Math.abs(prevWallpoint[1] - this.hoverCoord[1]);\n      return xDiff > yDiff ?\n        [this.hoverCoord[0], prevWallpoint[1]] :\n        [prevWallpoint[0], this.hoverCoord[1]];\n    },\n    previewPath() {\n      if (this.wallpoints.length === 0) {\n        return coordToLine([]);\n      }\n      const prevWallpoint = this.wallpoints[this.wallpoints.length - 1];\n      const guideCoords = [prevWallpoint, this.nextCoord];\n      return coordToLine(guideCoords);\n    },\n    xGuidePath() {\n      return coordToLine([[0, this.nextCoord[1]], [1200, this.nextCoord[1]]]);\n    },\n    yGuidePath() {\n      return coordToLine([[this.nextCoord[0], 0], [this.nextCoord[0], 800]]);\n    },\n    startGuide() {\n      if (this.wallpoints.length === 0) {\n        return { x: 0, y: 0 };\n      }\n      const startPoint = this.wallpoints[0];\n      return {\n        x: startPoint[0],\n        y: startPoint[1],\n      };\n    },\n    guideVisibility() {\n      return this.editMode ? 'visible' : 'hidden';\n    },\n    wallMeasurements() {\n      const distanceFactor = 0.025;\n      const measurementPoints = this.wallpoints.map((point, index) => {\n        if (index === 0) {\n          return null;\n        }\n        const prevPoint = this.wallpoints[index - 1];\n        const xDiff = prevPoint[0] + point[0];\n        const yDiff = prevPoint[1] + point[1];\n        const x = xDiff / 2;\n        const y = yDiff / 2;\n        const value = Math.sqrt(\n          Math.pow(point[0] - prevPoint[0], 2) +\n          Math.pow(point[1] - prevPoint[1], 2));\n        return {\n          x,\n          y,\n          value: `${(value * distanceFactor).toFixed(1)}m`,\n        };\n      })\n      .filter(point => point !== null);\n      if (this.editMode && this.nextCoord !== undefined && this.wallpoints.length > 0) {\n        const prevPoint = this.wallpoints[this.wallpoints.length - 1];\n        const xDiff = prevPoint[0] + this.nextCoord[0];\n        const yDiff = prevPoint[1] + this.nextCoord[1];\n        const x = xDiff / 2;\n        const y = yDiff / 2;\n        const value = Math.sqrt(\n          Math.pow(this.nextCoord[0] - prevPoint[0], 2) +\n          Math.pow(this.nextCoord[1] - prevPoint[1], 2));\n        const cursorPoint = {\n          x,\n          y,\n          value: `${(value * distanceFactor).toFixed(1)}m`,\n        };\n        measurementPoints.push(cursorPoint);\n      }\n      return measurementPoints;\n    },\n  },\n  methods: {\n    toggleEdit() {\n      this.editMode = !this.editMode;\n      if (this.editMode) {\n        initDraw(this);\n      }\n    },\n  },\n  mounted() {\n\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.tool-wrapper {\n  height: 800px;\n  width: 1200px;\n  background-color: gray;\n  color: white;\n}\nsvg {\n  width: 100%;\n  height: 100%;\n}\n\n.walls {\n  fill: none;\n  stroke: white;\n  stroke-width: 4px;\n}\n.guides {\n  fill: none;\n  stroke: white;\n  stroke-width: 1px;\n  stroke-opacity: 0.5;\n}\n.startGuide {\n  fill: black;\n}\n.guides > text {\n  fill: white;\n}\n.measurementRect {\n  fill: black;\n  stroke-width: 2px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Blueprint.vue?d3e54b3e","\n/* styles */\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../node_modules/vue-loader/lib/style-rewriter?id=data-v-35fcf742!./../node_modules/vue-loader/lib/selector?type=styles&index=0!./../node_modules/eslint-loader/index.js!./App.vue\")\n\nvar Component = require(\"/home/master/dev/ranchdata/blueprint-tool/node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!./../node_modules/vue-loader/lib/selector?type=script&index=0!./../node_modules/eslint-loader/index.js!./App.vue\"),\n  /* template */\n  require(\"!!./../node_modules/vue-loader/lib/template-compiler?id=data-v-35fcf742!./../node_modules/vue-loader/lib/selector?type=template&index=0!./../node_modules/eslint-loader/index.js!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 7\n// module chunks = 1","\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter?id=data-v-6efa3f6e&scoped=true!./../../node_modules/vue-loader/lib/selector?type=styles&index=0!./../../node_modules/eslint-loader/index.js!./Blueprint.vue\")\n\nvar Component = require(\"/home/master/dev/ranchdata/blueprint-tool/node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!./../../node_modules/vue-loader/lib/selector?type=script&index=0!./../../node_modules/eslint-loader/index.js!./Blueprint.vue\"),\n  /* template */\n  require(\"!!./../../node_modules/vue-loader/lib/template-compiler?id=data-v-6efa3f6e!./../../node_modules/vue-loader/lib/selector?type=template&index=0!./../../node_modules/eslint-loader/index.js!./Blueprint.vue\"),\n  /* scopeId */\n  \"data-v-6efa3f6e\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Blueprint.vue\n// module id = 8\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('Blueprint')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-35fcf742!./~/vue-loader/lib/selector.js?type=template&index=0!./~/eslint-loader!./src/App.vue\n// module id = 9\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"tool-wrapper\"\n  }, [_c('button', {\n    attrs: {\n      \"disabled\": _vm.editMode\n    },\n    on: {\n      \"click\": _vm.toggleEdit\n    }\n  }, [_vm._v(\"Edit\")]), _vm._v(\" \"), _c('button', {\n    attrs: {\n      \"disabled\": !_vm.editMode\n    },\n    on: {\n      \"click\": _vm.toggleEdit\n    }\n  }, [_vm._v(\"Cancel\")]), _vm._v(\" \"), _c('svg', {\n    staticClass: \"canvas\"\n  }, [_c('g', {\n    staticClass: \"walls\"\n  }, [_c('path', {\n    attrs: {\n      \"d\": _vm.path\n    }\n  }), _vm._v(\" \"), _c('path', {\n    attrs: {\n      \"d\": _vm.previewPath\n    }\n  })]), _vm._v(\" \"), _c('g', {\n    staticClass: \"guides\"\n  }, [_c('path', {\n    staticClass: \"guideline\",\n    attrs: {\n      \"visibility\": _vm.guideVisibility,\n      \"d\": _vm.xGuidePath\n    }\n  }), _vm._v(\" \"), _c('path', {\n    staticClass: \"guideline\",\n    attrs: {\n      \"visibility\": _vm.guideVisibility,\n      \"d\": _vm.yGuidePath\n    }\n  }), _vm._v(\" \"), _c('circle', {\n    staticClass: \"startGuide\",\n    attrs: {\n      \"cx\": _vm.startGuide.x,\n      \"cy\": _vm.startGuide.y,\n      \"r\": 10\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.wallMeasurements), function(point) {\n    return _c('rect', {\n      staticClass: \"measurementRect\",\n      attrs: {\n        \"x\": point.x - 50,\n        \"y\": point.y - 30,\n        \"width\": \"100\",\n        \"height\": \"30\"\n      }\n    })\n  }), _vm._v(\" \"), _vm._l((_vm.wallMeasurements), function(point) {\n    return _c('text', {\n      attrs: {\n        \"x\": point.x - 20,\n        \"y\": point.y - 10\n      }\n    }, [_vm._v(_vm._s(point.value))])\n  })], 2)]), _vm._v(\"\\n  \" + _vm._s(_vm.hoverCoord)), _c('br'), _vm._v(\"\\n  \" + _vm._s(_vm.path) + \"\\n\")])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-6efa3f6e!./~/vue-loader/lib/selector.js?type=template&index=0!./~/eslint-loader!./src/components/Blueprint.vue\n// module id = 10\n// module chunks = 1"],"sourceRoot":""}